"use strict";new Vue({el:"#app",data:function data(){return{newContent:{id:null,title:"",key:""},content:[]}},computed:{firebaseConfig:function firebaseConfig(){return{apiKey:"AIzaSyCun_SNGxWtqPEQYkL0d17XBRI0z-LobVY",authDomain:"digiwin-dc30c.firebaseapp.com",databaseURL:"https://digiwin-dc30c.firebaseio.com",projectId:"digiwin-dc30c",storageBucket:"digiwin-dc30c.appspot.com",messagingSenderId:"52675222168",appId:"1:52675222168:web:2ba46359f0c3a800af4eed"}},existed:function existed(){var result=!0;for(var key in this.content)if(this.content.hasOwnProperty(key)){var element=this.content[key];if(element.id===this.newContent.id){result=!1;break}}return result}},methods:{submitHandler:function submitHandler(){if(!this.existed)return alert("".concat(this.newContent.id," \u7684 ID \u5DF2\u5B58\u5728")),void this.$refs.id.select();var ref=firebase.database().ref("resources");ref.push(this.newContent),this.newContent.id=null,this.newContent.title="",this.$refs.id.focus()},getContent:function getContent(){var _this=this,ref=firebase.database().ref("resources");ref.orderByChild("id").on("value",function(snapshot){var tempContent=[];snapshot.forEach(function(el){var _el$val=el.val(),id=_el$val.id,title=_el$val.title;tempContent.push({id:id,title:title,key:el.key})}),tempContent.reverse(),_this.content=tempContent})},deleteHandler:function deleteHandler(key){if(confirm("\u78BA\u5B9A\u522A\u9664\uFF1F")){var ref=firebase.database().ref("resources/".concat(key));ref.remove()}}},created:function created(){0===firebase.apps.length&&firebase.initializeApp(this.firebaseConfig),this.getContent()}});
