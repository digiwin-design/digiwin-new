"use strict";function getParameterByName(name){var url=new URL(location.href),params=url.searchParams;return params.get(name)}function appendScripts(urls){var head=document.querySelector("head"),appendFile=function(src){return new Promise(function(resolve){var el=document.createElement("script");el.src=src,el.defer=!0,head.appendChild(el),el.onload=function(){return resolve()}})};return urls.map(function(url){return appendFile(url)})}function appendLinks(urls){var head=document.querySelector("head");urls.forEach(function(url){var el=document.createElement("link");el.href=url,el.rel="stylesheet",head.appendChild(el)})}(function(){var currentUrl=location.pathname.replace(/(.html|.htm)$/,"")+location.hash,result=[{before:"/tw/list.html",after:"/tw/ERP/erp-all.html"},{before:"/tw/dsc/marketing/WB002838/WB00283803.htm",after:"/tw/dsc/marketing/WB002838/web/03/"}].find(function(item){item=item.before.replace(/(.html|.htm)$/,"");var regex=new RegExp(item+"$");return-1!==currentUrl.search(regex)});result&&location.replace(result.after)})(),function(){var currentUrl=location.pathname.replace(/(.html|.htm)$/,"")+location.hash.replace(/#\w*$/,""),md=new MobileDetect(window.navigator.userAgent),device=md.mobile()?"desktop":"mobile";document.querySelector("html").classList.add(md.os()),fetch("/tw/dsc/assets/awd-list.json").then(function(res){return res.json()}).then(function(res){var result=res.list.find(function(item){item[device]=item[device].replace(/(.html|.htm)/,"");var regex=new RegExp(item[device]+"$");return regex.test(currentUrl)});result&&"desktop"===device?location.replace(result.mobile):result&&"mobile"===device&&location.replace(result.desktop)})}(),function(){var isProd="www.digiwin.com"===location.hostname?"production":"no-production",currentPage=location.pathname.split("/").pop().replace(".html","");document.querySelector("html").classList.add(isProd,currentPage)}(),$(function(){var target=document.querySelector("#toolbar .p-2");if(target){var phoneNum=target.innerText.trim();document.querySelector(".xz-fudong a").setAttribute("href","tel:"+phoneNum)}}),$(function(){var currentUrl=location.pathname.replace(/(.html|.htm)$/,"");fetch("/tw/dsc/assets/login/login.json").then(function(res){return res.json()}).then(function(res){var result=res.find(function(item){item=item.replace(/(.html|.htm)$/,"");var regex=new RegExp(item+"$");return-1!==currentUrl.search(regex)});if(result){var head=document.querySelector("head");appendLinks(["https://fonts.googleapis.com/icon?family=Material+Icons","/tw/dsc/assets/login/css/login.css"]);Promise.all(appendScripts(["https://cdn.jsdelivr.net/npm/sweetalert2@8","https://unpkg.com/vue-recaptcha@latest/dist/vue-recaptcha.min.js","https://www.google.com/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit"])).then(function(){var el=document.createElement("script");el.src="/tw/dsc/assets/login/js/login.min.js",el.defer=!0,head.appendChild(el)}).catch(function(err){return console.error(err)})}})}),$(function(){var currentUrl=location.pathname.replace(/(.html|.htm)$/,"");fetch("/tw/dsc/assets/article-ad/db.json").then(function(res){return res.json()}).then(function(res){var result=res.find(function(item){item=item.url.replace(/(.html|.htm)$/,"");var regex=new RegExp(item+"$");return-1!==currentUrl.search(regex)});if(result){var img=document.createElement("img");img.src=result.imgSrc;var a=document.createElement("a");a.href=result.link,a.target="_blank",a.style.display="block",a.appendChild(img),document.querySelector(".list-case-show .tag").insertAdjacentElement("afterend",a)}})}),$(function(){var mouseenterHandler=function(){document.querySelector("header").style.zIndex=100},mouseleaveHandler=function(){setTimeout(function(){"none"===document.querySelector("#qcTopNavSheetWrapper").style.display&&document.querySelector("header").removeAttribute("style")},500)};document.querySelector(".nav")&&(document.querySelector(".nav").addEventListener("mouseenter",mouseenterHandler),document.querySelector(".nav").addEventListener("mouseleave",mouseleaveHandler)),document.querySelector("#qcTopNavSheetWrapper")&&(document.querySelector("#qcTopNavSheetWrapper").addEventListener("mouseenter",mouseenterHandler),document.querySelector("#qcTopNavSheetWrapper").addEventListener("mouseleave",mouseleaveHandler))}),$(function(){window.addEventListener("scroll",function(){document.querySelector("aside.rightbox")&&document.querySelector("aside.rightbox").classList.remove("asideFixed","topscorll","asideBottom")})}),$(function(){var userId=getParameterByName("userId"),btn1=document.querySelector(".list-cc .button a"),btn2=document.querySelector(".list-case-show .abutton a");userId&&btn1&&btn2&&(btn1.href+="&userId=".concat(userId),btn2.href+="&userId=".concat(userId))}),$(function(){fetch("/tw/dsc/assets/ad/db.json").then(function(res){return res.json()}).then(function(res){var result=res.filter(function(value){return location.pathname.replace(/(.html|.htm)$/,"")===value.url.replace(/(.html|.htm)$/,"")});if(result.length){var div=document.createElement("div");div.id="ad",document.querySelector("body").appendChild(div),new Vue({el:"#ad",components:{ad:httpVueLoader("/tw/dsc/assets/ad/Ad.vue")},computed:{info:function info(){return result[0]}},template:"<ad :info=\"info\"></ad>"})}})}),$(function(){if("/tw/zlsq.html"===location.pathname){0===firebase.apps.length&&firebase.initializeApp({apiKey:"AIzaSyCun_SNGxWtqPEQYkL0d17XBRI0z-LobVY",authDomain:"digiwin-dc30c.firebaseapp.com",databaseURL:"https://digiwin-dc30c.firebaseio.com",projectId:"digiwin-dc30c",storageBucket:"digiwin-dc30c.appspot.com",messagingSenderId:"52675222168",appId:"1:52675222168:web:2ba46359f0c3a800af4eed"});var contentRef=firebase.database().ref("resources");contentRef.once("value").then(function(snapshot){var content=snapshot.val();for(var key in content)if(content.hasOwnProperty(key)){var element=content[key];if(element.id==getParameterByName("id")){document.querySelector(".form-bd .title").textContent=element.title;break}}})}}),$(function(){if("/tw"===location.pathname){var links=document.querySelectorAll(".h-new:last-of-type a");links.forEach(function(el){var url=el.getAttribute("href");el.href=url.replace(/\/tw\/tw\//,"/tw/")})}});
